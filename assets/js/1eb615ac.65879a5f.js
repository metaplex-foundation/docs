"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1481],{3905:function(e,t,o){o.d(t,{Zo:function(){return u},kt:function(){return h}});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var i=n.createContext({}),l=function(e){var t=n.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},u=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),f=l(o),h=r,p=f["".concat(i,".").concat(h)]||f[h]||d[h]||a;return o?n.createElement(p,s(s({ref:t},u),{},{components:o})):n.createElement(p,s({ref:t},u))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,s=new Array(a);s[0]=f;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:r,s[1]=c;for(var l=2;l<a;l++)s[l]=o[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}f.displayName="MDXCreateElement"},9098:function(e,t,o){o.r(t),o.d(t,{assets:function(){return i},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return l}});var n=o(83117),r=(o(67294),o(3905));const a={description:"Giving NFTs an escrow account."},s="NFT Escrow",c={unversionedId:"programs/token-metadata/nft-escrow",id:"programs/token-metadata/nft-escrow",title:"NFT Escrow",description:"Giving NFTs an escrow account.",source:"@site/docs/01-programs/01-token-metadata/06-nft-escrow.md",sourceDirName:"01-programs/01-token-metadata",slug:"/programs/token-metadata/nft-escrow",permalink:"/programs/token-metadata/nft-escrow",draft:!1,editUrl:"https://github.com/metaplex/docs/tree/main/docs/01-programs/01-token-metadata/06-nft-escrow.md",tags:[],version:"current",lastUpdatedAt:1677613749,formattedLastUpdatedAt:"Feb 28, 2023",sidebarPosition:6,frontMatter:{description:"Giving NFTs an escrow account."},sidebar:"sidebar",previous:{title:"Certified Collections",permalink:"/programs/token-metadata/certified-collections"},next:{title:"Using NFTs",permalink:"/programs/token-metadata/using-nfts"}},i={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Types of Escrow Accounts",id:"types-of-escrow-accounts",level:2},{value:"Token Owned Escrow",id:"token-owned-escrow",level:3},{value:"Creator Owned Escrow",id:"creator-owned-escrow",level:3}],u={toc:l};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"nft-escrow"},"NFT Escrow"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"This extension of the Token Metadata contract was created as a new feature primitive that could optionally be added to all NFTs. At its core it is simply an escrow account attached to an NFT, enabling NFTs to become owners of other tokens."),(0,r.kt)("p",null,"Aside from the requisite security and ownership checks necessary, the functionality this feature affords has been left generic enough to allow users to implement whatever they desire on top of the composability of the token and its escrow account."),(0,r.kt)("h2",{id:"types-of-escrow-accounts"},"Types of Escrow Accounts"),(0,r.kt)("p",null,"It is currently possible to create two different types of escrow accounts on an NFT: A Token Owned Escrow (TOE) used for ownership and a Creator Owned Escrow (COE) used for associations. The existence both types of escrow accounts are not mutually exclusive."),(0,r.kt)("h3",{id:"token-owned-escrow"},"Token Owned Escrow"),(0,r.kt)("p",null,"A Token Owned Escrow account, or TOE, is an escrow account attached the NFT that is managed by the holder of the NFT. Transferring a token out of this escrow account is only allowable by the token's holder and the permissions follow the NFT as it is transferred between wallets."),(0,r.kt)("p",null,"This means Alice can add a token to a TOE on her NFT, then sell her NFT to Bob. Bob would then be the only one allowed to transfer that token out of the TOE."),(0,r.kt)("p",null,"Due to the holder-based permissions, it is only possible to have one TOE on an NFT. A TOE follows traditional wallet action flow where anyone can transfer a token into the escrow account but the holder is the only one who can transfer the token out."),(0,r.kt)("h3",{id:"creator-owned-escrow"},"Creator Owned Escrow"),(0,r.kt)("p",null,"A Creator Owned Escrow, or COE, is an escrow account attached to the NFT that is managed by a specified creator. This escrow account allows creators to make associations between tokens that they themselves can manage, regardless of sales, transfers, and holders of the base NFT."),(0,r.kt)("p",null,"An example use case for this is Metaverse avatars. Rather than storing avatars on a Web2 server, the Metaverse team could mint the avatar as an NFT, then put it in a COE (that the Metaverse team manages) attached to the corresponding base NFT. Because usage of the COE is locked to the creator of the COE, a holder would be unable to transfer the avatar out of the escrow account and break the association."),(0,r.kt)("p",null,"A Creator Owned Escrow is seeded with the creator public key and therefore there is no limit to the number of COEs that can be attached to an NFT. This allows many associations to be built across many projects. A COE follows traditional wallet action flow where anyone can transfer a token into the escrow account but the creator of the escrow is the only one who can transfer the token out."))}d.isMDXComponent=!0}}]);